<!--pages/category/category.wxml-->
<view class="page-container">
  <!-- åˆ†ç±»åˆ—è¡¨ -->
  <view class="section">
    <view class="section-title">åˆ†ç±»</view>
    <view class="category-grid" wx:if="{{categories.length > 0}}">
      <view 
        wx:for="{{categories}}" 
        wx:key="name"
        class="category-item"
        style="background-color: {{item.color || '#1890ff'}}20;"
        data-category="{{item.name}}"
        bindtap="goToCategoryLinks"
      >
        <view class="category-icon" style="background-color: {{item.color || '#1890ff'}};">
          <text class="iconfont">{{item.icon || 'ğŸ“'}}</text>
        </view>
        <view class="category-info">
          <text class="category-name">{{item.name}}</text>
          <text class="category-count">{{item.count || 0}} ä¸ªé“¾æ¥</text>
        </view>
      </view>
    </view>
    <view class="empty-tip" wx:if="{{!loading && categories.length === 0}}">
      <text>æš‚æ— åˆ†ç±»</text>
    </view>
  </view>

  <!-- æ ‡ç­¾äº‘ -->
  <view class="section">
    <view class="section-title">æ ‡ç­¾</view>
    <view class="tag-cloud" wx:if="{{tags.length > 0}}">
      <view 
        wx:for="{{tags}}" 
        wx:key="name"
        class="tag-item"
        style="font-size: {{item.count > 10 ? 32 : item.count > 5 ? 28 : 24}}rpx;"
        data-tag="{{item.name}}"
        bindtap="goToTagLinks"
      >
        {{item.name}} ({{item.count}})
      </view>
    </view>
    <view class="empty-tip" wx:if="{{!loading && tags.length === 0}}">
      <text>æš‚æ— æ ‡ç­¾</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>
