<!--components/note-card/note-card.wxml-->
<view class="note-card">
  <!-- å¿ƒæƒ…å’Œæ—¶é—´ -->
  <view class="header">
    <view class="mood" wx:if="{{note.mood}}">
      <text class="mood-emoji">
        {{note.mood === 'happy' ? 'ðŸ˜Š' : note.mood === 'thinking' ? 'ðŸ¤”' : note.mood === 'sad' ? 'ðŸ˜¢' : note.mood === 'excited' ? 'ðŸŽ‰' : 'ðŸ˜Œ'}}
      </text>
    </view>
    <text class="time">{{timeStr}}</text>
  </view>

  <!-- å†…å®¹ -->
  <view class="content">
    <text class="text">{{note.content}}</text>
  </view>

  <!-- å›¾ç‰‡ -->
  <view class="images" wx:if="{{note.images && note.images.length > 0}}">
    <image 
      wx:for="{{note.images}}" 
      wx:key="*this"
      wx:if="{{index < 3}}"
      class="image {{note.images.length === 1 ? 'single' : ''}}"
      src="{{item}}"
      mode="aspectFill"
      data-index="{{index}}"
      catchtap="previewImage"
    ></image>
    <view class="more-images" wx:if="{{note.images.length > 3}}">
      +{{note.images.length - 3}}
    </view>
  </view>

  <!-- æ ‡ç­¾ -->
  <view class="tags" wx:if="{{note.tags && note.tags.length > 0}}">
    <text class="tag" wx:for="{{note.tags}}" wx:key="*this">{{item}}</text>
  </view>
</view>
